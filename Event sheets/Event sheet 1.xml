<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Event sheet 1</name>
    <events>
        <variable comment="Not moving." constant="1" name="DIR_NONE" sid="123122657249812" static="0" type="number">-1</variable>
        <variable comment="Right Direction Angle." constant="1" name="DIR_RIGHT" sid="7990774981750296" static="0" type="number">0</variable>
        <variable comment="Down Direction Angle." constant="1" name="DIR_DOWN" sid="514983525841942" static="0" type="number">90</variable>
        <variable comment="Left Direction Angle." constant="1" name="DIR_LEFT" sid="1788478983466851" static="0" type="number">180</variable>
        <variable comment="Up Direction Angle." constant="1" name="DIR_UP" sid="6668382114928825" static="0" type="number">270</variable>
        <variable constant="1" name="GRID_CELL_DIMENSION" sid="977696802460946" static="0" type="number">64</variable>
        <event-group description="" sid="527473205940660" title="PlayerActions">
            <sub-events>
                <event-group description="" sid="9745253451431713" title="Player1Controls">
                    <sub-events>
                        <event-block sid="6119445193882235">
                            <conditions>
                                <condition id="2" name="Key is down" sid="7557715739566571" type="Keyboard">
                                    <param id="0" name="Key">68 (D)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="215379724934199" type="PlayerFunctionManager">
                                    <param id="0" name="Name">&quot;PlayerMove&quot;</param>
                                    <param id="1" name="Parameter {n}">DIR_RIGHT{###}PlayerGuybrush.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="2052728357728262">
                            <conditions>
                                <condition id="2" name="Key is down" sid="3735616567536674" type="Keyboard">
                                    <param id="0" name="Key">83 (S)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="956300719067401" type="PlayerFunctionManager">
                                    <param id="0" name="Name">&quot;PlayerMove&quot;</param>
                                    <param id="1" name="Parameter {n}">DIR_DOWN{###}PlayerGuybrush.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="7330281049707995">
                            <conditions>
                                <condition id="2" name="Key is down" sid="1640617928021029" type="Keyboard">
                                    <param id="0" name="Key">65 (A)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="192848971965194" type="PlayerFunctionManager">
                                    <param id="0" name="Name">&quot;PlayerMove&quot;</param>
                                    <param id="1" name="Parameter {n}">DIR_LEFT{###}PlayerGuybrush.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="9966895437349656">
                            <conditions>
                                <condition id="2" name="Key is down" sid="7909980971822628" type="Keyboard">
                                    <param id="0" name="Key">87 (W)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="427041402204568" type="PlayerFunctionManager">
                                    <param id="0" name="Name">&quot;PlayerMove&quot;</param>
                                    <param id="1" name="Parameter {n}">DIR_UP{###}PlayerGuybrush.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="330528170361814">
                            <conditions>
                                <condition id="3" name="On key released" sid="755241043249944" type="Keyboard">
                                    <param id="0" name="Key">68 (D)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="439613158233857" type="PlayerFunctionManager">
                                    <param id="0" name="Name">&quot;PlayerRemoveDirection&quot;</param>
                                    <param id="1" name="Parameter {n}">DIR_RIGHT{###}PlayerGuybrush.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="386685673006261">
                            <conditions>
                                <condition id="3" name="On key released" sid="364022587605851" type="Keyboard">
                                    <param id="0" name="Key">83 (S)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="801077852372787" type="PlayerFunctionManager">
                                    <param id="0" name="Name">&quot;PlayerRemoveDirection&quot;</param>
                                    <param id="1" name="Parameter {n}">DIR_DOWN{###}PlayerGuybrush.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="967330581854884">
                            <conditions>
                                <condition id="3" name="On key released" sid="220223408823958" type="Keyboard">
                                    <param id="0" name="Key">65 (A)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="275317771512542" type="PlayerFunctionManager">
                                    <param id="0" name="Name">&quot;PlayerRemoveDirection&quot;</param>
                                    <param id="1" name="Parameter {n}">DIR_LEFT{###}PlayerGuybrush.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="108743419962182">
                            <conditions>
                                <condition id="3" name="On key released" sid="880680638644570" type="Keyboard">
                                    <param id="0" name="Key">87 (W)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="268581590010032" type="PlayerFunctionManager">
                                    <param id="0" name="Name">&quot;PlayerRemoveDirection&quot;</param>
                                    <param id="1" name="Parameter {n}">DIR_UP{###}PlayerGuybrush.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="692885924293359">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="446287528345776" type="Keyboard">
                                    <param id="0" name="Key">32 (Barra Spaziatrice)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="817993149191247" type="PlayerFunctionManager">
                                    <param id="0" name="Name">&quot;PlaceBomb&quot;</param>
                                    <param id="1" name="Parameter {n}">PlayerGuybrush.X{###}PlayerGuybrush.Y</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="1769681718981619" title="Player2Controls">
                    <sub-events>
                        <event-block sid="7402483108330295">
                            <conditions>
                                <condition id="2" name="Key is down" sid="5264389745581447" type="Keyboard">
                                    <param id="0" name="Key">39 (Right arrow)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="356044093181554" type="PlayerFunctionManager">
                                    <param id="0" name="Name">&quot;PlayerMove&quot;</param>
                                    <param id="1" name="Parameter {n}">DIR_RIGHT{###}PlayerLeChuck.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="8025406258130754">
                            <conditions>
                                <condition id="2" name="Key is down" sid="2012178166784655" type="Keyboard">
                                    <param id="0" name="Key">40 (Down arrow)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="419479157615226" type="PlayerFunctionManager">
                                    <param id="0" name="Name">&quot;PlayerMove&quot;</param>
                                    <param id="1" name="Parameter {n}">DIR_DOWN{###}PlayerLeChuck.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="9997214662711343">
                            <conditions>
                                <condition id="2" name="Key is down" sid="7545381985826227" type="Keyboard">
                                    <param id="0" name="Key">37 (Left arrow)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="625698871381541" type="PlayerFunctionManager">
                                    <param id="0" name="Name">&quot;PlayerMove&quot;</param>
                                    <param id="1" name="Parameter {n}">DIR_LEFT{###}PlayerLeChuck.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4335810245299648">
                            <conditions>
                                <condition id="2" name="Key is down" sid="7219142663381127" type="Keyboard">
                                    <param id="0" name="Key">38 (Up arrow)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="745900861811953" type="PlayerFunctionManager">
                                    <param id="0" name="Name">&quot;PlayerMove&quot;</param>
                                    <param id="1" name="Parameter {n}">DIR_UP{###}PlayerLeChuck.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="419678362450729">
                            <conditions>
                                <condition id="3" name="On key released" sid="835226681206700" type="Keyboard">
                                    <param id="0" name="Key">39 (Right arrow)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="849039025921345" type="PlayerFunctionManager">
                                    <param id="0" name="Name">&quot;PlayerRemoveDirection&quot;</param>
                                    <param id="1" name="Parameter {n}">DIR_RIGHT{###}PlayerLeChuck.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="500934231561844">
                            <conditions>
                                <condition id="3" name="On key released" sid="211307728725652" type="Keyboard">
                                    <param id="0" name="Key">40 (Down arrow)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="795221692963986" type="PlayerFunctionManager">
                                    <param id="0" name="Name">&quot;PlayerRemoveDirection&quot;</param>
                                    <param id="1" name="Parameter {n}">DIR_DOWN{###}PlayerLeChuck.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="682894598954459">
                            <conditions>
                                <condition id="3" name="On key released" sid="268552190979750" type="Keyboard">
                                    <param id="0" name="Key">37 (Left arrow)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="109599544291459" type="PlayerFunctionManager">
                                    <param id="0" name="Name">&quot;PlayerRemoveDirection&quot;</param>
                                    <param id="1" name="Parameter {n}">DIR_LEFT{###}PlayerLeChuck.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="349416789356922">
                            <conditions>
                                <condition id="3" name="On key released" sid="406494075052624" type="Keyboard">
                                    <param id="0" name="Key">38 (Up arrow)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="564667449374248" type="PlayerFunctionManager">
                                    <param id="0" name="Name">&quot;PlayerRemoveDirection&quot;</param>
                                    <param id="1" name="Parameter {n}">DIR_UP{###}PlayerLeChuck.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="782336179310508">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="678742562867463" type="Keyboard">
                                    <param id="0" name="Key">13 (Return)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="676010612548923" type="PlayerFunctionManager">
                                    <param id="0" name="Name">&quot;PlaceBomb&quot;</param>
                                    <param id="1" name="Parameter {n}">PlayerLeChuck.X{###}PlayerLeChuck.Y</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-block sid="971442273339900">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="266734738070510" type="Player">
                            <param id="0" name="Object">Fire</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="212875879378807" type="Player" />
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="902444318032506" title="BombActions">
            <sub-events>
                <event-block sid="807528452905428">
                    <conditions>
                        <condition id="-18" name="On created" sid="224524213375146" type="BombPlaceholder" />
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="665250883234663" type="BombPlaceholder">
                            <param id="0" name="Object">BombGrog</param>
                            <param id="1" name="Layer">1</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                        <action id="-25" name="Move to bottom" sid="801680029279406" type="BombGrog" />
                        <action id="-25" name="Move to bottom" sid="593405999962707" type="BombPlaceholder" />
                        <action id="-16" name="Wait" sid="854795933051239" type="System">
                            <param id="0" name="Seconds">round(random(3, 5))</param>
                        </action>
                        <action id="-9" name="Destroy" sid="430167621323557" type="BombPlaceholder" />
                        <action id="-9" name="Destroy" sid="806805936066889" type="BombGrog" />
                        <action id="0" name="Spawn another object" sid="245753833961494" type="BombPlaceholder">
                            <param id="0" name="Object">Fire</param>
                            <param id="1" name="Layer">1</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="625396410049417">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="231651622608729" type="Fire">
                            <param id="0" name="Object">BlockDestroyable</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="576629839606189" type="BlockDestroyable" />
                        <action id="-9" name="Destroy" sid="315469995967927" type="Fire" />
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="286022578131322" title="Functions">
            <sub-events>
                <event-block sid="381783204327781">
                    <conditions>
                        <condition id="0" name="On function" sid="196938295340890" type="PlayerFunctionManager">
                            <param id="0" name="Name">&quot;PlayerMove&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="612199234550356" type="Player">
                            <param id="0" name="Unique ID">PlayerFunctionManager.Param(1)</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block any="1" sid="782353258028893">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="799491817652434" type="Player">
                                    <param id="0" name="Instance variable">Direction</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">DIR_NONE</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="998657960264896" type="Player">
                                    <param id="0" name="Instance variable">Direction</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">PlayerFunctionManager.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="462228883042541" type="Player">
                                    <param id="0" name="Instance variable">Direction</param>
                                    <param id="1" name="Value">PlayerFunctionManager.Param(0)</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="722558678670523">
                                    <conditions>
                                        <condition id="1" name="Compare parameter" sid="216219303019114" type="PlayerFunctionManager">
                                            <param id="0" name="Index">0</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">DIR_RIGHT</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="664374055151437" type="Player">
                                            <param id="0" name="Animation">&quot;Right&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                        <action behavior="4Direction" id="9" name="Set vector X" sid="713701481396131" type="Player">
                                            <param id="0" name="Vector X">Self.Speed / Self.MoveTime</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="822982541468424">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="144847563795171" type="System" />
                                        <condition id="1" name="Compare parameter" sid="839513753398789" type="PlayerFunctionManager">
                                            <param id="0" name="Index">0</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">DIR_DOWN</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="128741135354418" type="Player">
                                            <param id="0" name="Animation">&quot;Front&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                        <action behavior="4Direction" id="10" name="Set vector Y" sid="829947612520674" type="Player">
                                            <param id="0" name="Vector Y">Self.Speed / Self.MoveTime</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="887653948198895">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="305614808257056" type="System" />
                                        <condition id="1" name="Compare parameter" sid="900885177092609" type="PlayerFunctionManager">
                                            <param id="0" name="Index">0</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">DIR_LEFT</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="866267643774560" type="Player">
                                            <param id="0" name="Animation">&quot;Left&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                        <action behavior="4Direction" id="9" name="Set vector X" sid="794433155937814" type="Player">
                                            <param id="0" name="Vector X">-1 * Self.Speed / Self.MoveTime</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="490584365439276">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="746614091946259" type="System" />
                                        <condition id="1" name="Compare parameter" sid="740377821594372" type="PlayerFunctionManager">
                                            <param id="0" name="Index">0</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">DIR_UP</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="905490125434257" type="Player">
                                            <param id="0" name="Animation">&quot;Back&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                        <action behavior="4Direction" id="10" name="Set vector Y" sid="528343739119415" type="Player">
                                            <param id="0" name="Vector Y">-1 * Self.Speed / Self.MoveTime</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="786337930768131">
                    <conditions>
                        <condition id="0" name="On function" sid="288775142042453" type="PlayerFunctionManager">
                            <param id="0" name="Name">&quot;PlayerRemoveDirection&quot;</param>
                        </condition>
                        <condition id="-14" name="Pick by unique ID" sid="596181255943408" type="Player">
                            <param id="0" name="Unique ID">PlayerFunctionManager.Param(1)</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block any="1" sid="897956087835678">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="369360525063132" type="Player">
                                    <param id="0" name="Instance variable">Direction</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">PlayerFunctionManager.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="101073018275229" type="Player">
                                    <param id="0" name="Instance variable">Direction</param>
                                    <param id="1" name="Value">DIR_NONE</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="549431850100100">
                    <conditions>
                        <condition id="0" name="On function" sid="725206544658269" type="PlayerFunctionManager">
                            <param id="0" name="Name">&quot;PlaceBomb&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="580546508076359">
                            <conditions>
                                <condition id="3" inverted="1" name="Has key" sid="222396230711730" type="BombListOfActives">
                                    <param id="0" name="Key">PlayerFunctionManager.Call(&quot;GetSnappedCoord&quot;,PlayerFunctionManager.Param(0)) &amp; &quot;-&quot; &amp; PlayerFunctionManager.Call(&quot;GetSnappedCoord&quot;,PlayerFunctionManager.Param(1))</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Add key" sid="289581820739292" type="BombListOfActives">
                                    <param id="0" name="Key">PlayerFunctionManager.Call(&quot;GetSnappedCoord&quot;,PlayerFunctionManager.Param(0)) &amp; &quot;-&quot; &amp; PlayerFunctionManager.Call(&quot;GetSnappedCoord&quot;,PlayerFunctionManager.Param(1))</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-3" name="Create object" sid="975659661393271" type="System">
                                    <param id="0" name="Object to create">BombPlaceholder</param>
                                    <param id="1" name="Layer">1</param>
                                    <param id="2" name="X">PlayerFunctionManager.Call(&quot;GetSnappedCoord&quot;,PlayerFunctionManager.Param(0))</param>
                                    <param id="3" name="Y">PlayerFunctionManager.Call(&quot;GetSnappedCoord&quot;,PlayerFunctionManager.Param(1))</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="275840947945462">
                    <conditions>
                        <condition id="0" name="On function" sid="613178228532473" type="PlayerFunctionManager">
                            <param id="0" name="Name">&quot;GetSnappedCoord&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="1" name="Set return value" sid="174252753338584" type="PlayerFunctionManager">
                            <param id="0" name="Value">round((PlayerFunctionManager.Param(0) - (GRID_CELL_DIMENSION / 2)) / GRID_CELL_DIMENSION) * GRID_CELL_DIMENSION + (GRID_CELL_DIMENSION / 2)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
